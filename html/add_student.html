<!DOCTYPE html>
<html lang="en">

  <head>
      <meta charset="UTF-8">
      <title>Group Project</title>
      <link rel="stylesheet" href="./css/add_students.css">
      <link href="https://fonts.googleapis.com/css?family=Yantramanav" rel="stylesheet">

      <script type='text/javascript'>
        function add_student(){
            // create new student object
            const url = "http://globalengishstudentrecord.us-east-2.elasticbeanstalk.com/api/records/add_student" 
            var newStudent = {
              first_kanji: document.getElementById('fnamekanji').value,
              last_kanji: document.getElementById('lnamekanji').value,
              first_katakana: document.getElementById('fnamekatakana').value,
              last_katakana: document.getElementById('lnamekatakana').value,
              school: document.getElementById('skl').value,
              grade: document.getElementById('grade').value
            };
            postData(url, newStudent);
        }

        function postData(url, data){
          return fetch(url, {
            method: "POST",
            mode: "cors",
            cache: "no-cache",
            headers: {
              "Content-Type": "application/json; charset=utf-8"
            },
            body: JSON.stringify(data)
          }).then(response => console.log(response));
        }
      </script>
  </head>

  <body>
    <header>
      <h1>New Student</h1>
    </header>
  
    <div class="bg">
      <div>
        <form action="/action_page.php">
          <label for="fname">Name</label><br>
          <input type="text" id="lnamekanji" name="lastnamekanji" placeholder="姓"><br>
          <input type="text" id="lnamekatakana" name="lastnamekatakana" placeholder="セイ"><br>
          <input type="text" id="fnamekanji" name="firstnamekanji" placeholder="名"><br>
          <input type="text" id="fnamekatakana" name="firstnamekatakana" placeholder="メイ"><br>
          <label for="grade">Grade</label><br>
          <select id="grade" name="grade">
            <option value="k1">高一</option>
            <option value="k2">高二</option>
            <option value="k3">高三</option>
            <option value="s1">中一</option>
            <option value="s2">中二</option>
            <option value="s3">中三</option>
            <option value="p">小学</option>
            <option value="u">大学</option>
          </select><br>
          <label for="lname">School</label><br>
          <input type="text" id="skl" name="school" placeholder="学校名"><br>
          <input alignt="center" type="Save" value="Save" onclick="add_student();">    
        </form>
      </div>
    </div>
    <footer>Global Eigo</footer>
  </body>

</html>
